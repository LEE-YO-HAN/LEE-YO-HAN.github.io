{"pageProps":{"title":"react simple formdata code","description":"react formdata 코드간소화","category":"react","keyword":"react, 코드 간소화","date":"2023-03-03","content":"\r\n# FormData 저장 코드 간소화하기\r\n\r\n하나의 폼에서 여러 개의 input 값을 변경하기 위해 함수를 만들어 간단하게 코드를 간소화시킬 수 있다.\r\n\r\n```typescript\r\n// form.tsx\r\n<Container onSubmit={e => onSubmitHandler(e, dispatch)}>\r\n  <input\r\n    type=\"text\"\r\n    name=\"profile_url\"\r\n    placeholder=\"https://picsum.photos/id/1/50/50 - 필수 X\"\r\n    value={formData.profile_url}\r\n    onChange={e => onChangeHandler(e)}\r\n  />\r\n  <br />\r\n  <input\r\n    type=\"text\"\r\n    name=\"author\"\r\n    placeholder=\"작성자\"\r\n    value={formData.author}\r\n    onChange={e => onChangeHandler(e)}\r\n    required\r\n  />\r\n  <br />\r\n  <textarea\r\n    name=\"content\"\r\n    placeholder=\"내용\"\r\n    value={formData.content}\r\n    onChange={e => onChangeHandler(e)}\r\n    required\r\n  ></textarea>\r\n  <br />\r\n  <input\r\n    type=\"text\"\r\n    name=\"createdAt\"\r\n    placeholder={`${todayDate()}`}\r\n    disabled\r\n    required\r\n  />\r\n  <br />\r\n  <button type=\"submit\">{isEdit ? \"수정하기\" : \"등록\"}</button>\r\n</Container>;\r\n\r\n// useForm.tsx\r\nconst [formData, setFormData] = useState<FormData>({\r\n  profile_url: \"\",\r\n  author: \"\",\r\n  content: \"\",\r\n  createdAt: todayDate(),\r\n});\r\n\r\nconst onChangeHandler = (e: InputEvent) => {\r\n  let type = e.target.name;\r\n  let value = e.target.value;\r\n  if (type === \"profile_url\")\r\n    setFormData(prev => ({ ...prev, profile_url: value }));\r\n  if (type === \"author\") setFormData(prev => ({ ...prev, author: value }));\r\n  if (type === \"content\") setFormData(prev => ({ ...prev, content: value }));\r\n  setFormData(prev => ({ ...prev, [type]: value }));\r\n};\r\n```\r\n\r\n하지만 위와 같이 if문이 많아져 코드의 성능과 가독성을 떨어뜨릴 수 있기 때문에, 아래와 같이 변경해볼 수 있다.\r\n\r\n```typescript\r\n// useForm.tsx\r\n\r\nconst [formData, setFormData] = useState<FormData>({\r\n  profile_url: \"\",\r\n  author: \"\",\r\n  content: \"\",\r\n  createdAt: todayDate(),\r\n});\r\n\r\nconst onChangeHandler = (e: InputEvent) => {\r\n  const { name, value } = e.target.name;\r\n  setFormData(prev => ({ ...prev, [name]: value }));\r\n};\r\n```\r\n\r\nhtml input의 name 속성을 이용해 setState 코드를 간소화시킬 수 있는 방법이다.\r\n"},"__N_SSG":true}